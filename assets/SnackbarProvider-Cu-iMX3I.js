import{j as m}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-2yJIXLcc.js";import{S as x}from"./Snackbar-C6VD_Dy3.js";import"./dayjs.min-qj4fShTU.js";import{_ as f,u as k}from"./useDeepEqualMemo-BTYFVHQ1.js";import{W as v}from"./file-zip-BXERkKO-.js";var S=f(function(t,o){for(var c={},n={},a=0,l=t.length;a<l;)n[t[a]]=1,a+=1;for(var r in o)n.hasOwnProperty(r)||(c[r]=o[r]);return c});const p=s.createContext({messages:[],enqueueSnackbar:()=>{},enqueueSnackbarError:()=>{}}),A=()=>s.useContext(p),u=({children:d,getErrorMsg:t})=>{const[o,c]=s.useState([]),n=s.useMemo(()=>o[0],[k(o)]),a=e=>{c(i=>[...i,e])},l=e=>{var i;a({children:(t==null?void 0:t(e))||(typeof e=="string"?e:((i=e==null?void 0:e.error)==null?void 0:i.message)||(e==null?void 0:e.err.statusText)),startAdornment:m.jsx(v,{style:{color:"var(--tg-theme-destructive-text-color)"}})})},r=()=>{c(e=>(e.shift(),[...e]))};return m.jsxs(p.Provider,{value:{messages:o,enqueueSnackbar:a,enqueueSnackbarError:l},children:[d,!!n&&m.jsx(x,{...S(["closeOnEndAdornmentClick"],n),endAdornment:n!=null&&n.closeOnEndAdornmentClick&&s.isValidElement(n.endAdornment)?s.cloneElement(n.endAdornment,{onClick:r}):n.endAdornment,onClose:r})]})};try{u.displayName="SnackbarProvider",u.__docgenInfo={description:"",displayName:"SnackbarProvider",props:{getErrorMsg:{defaultValue:null,description:"",name:"getErrorMsg",required:!1,type:{name:"((err: any) => string)"}}}}}catch{}export{u as S,A as u};
