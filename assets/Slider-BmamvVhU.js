import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{c as A}from"./classNames-BjxpnYM-.js";import"./file-zip-BXERkKO-.js";import{h as U}from"./react-B_12zFKA.js";import{r as v}from"./index-2yJIXLcc.js";import"./dayjs.min-qj4fShTU.js";import{u as L}from"./usePlatform-CpmMXCo-.js";import{V as se}from"./VisuallyHidden-DpPGOsnD.js";import{i as le}from"./equal-CbjX1LbP.js";import{c as _}from"./math-BetwNH9j.js";import{T as oe}from"./Touch-Cy9rcpHf.js";const ie="_wrapper_1xbwd_1",ue="_slider_1xbwd_13",de="_track_1xbwd_27",ce="_trackFilled_1xbwd_28",pe="_thumbs_1xbwd_52",fe="_startAdornment_1xbwd_60",me="_endAdornment_1xbwd_61",h={wrapper:ie,slider:ue,"wrapper--disabled":"_wrapper--disabled_1xbwd_22",track:de,trackFilled:ce,thumbs:pe,startAdornment:fe,endAdornment:me,"wrapper--ios":"_wrapper--ios_1xbwd_68"},he="_step_zizna_1",z={step:he,"step--passed":"_step--passed_zizna_9","step--ios":"_step--ios_zizna_14"},F=({steps:r})=>{const e=L();return l.jsx(l.Fragment,{children:r.map(({isPassed:t,XCoordinate:a})=>l.jsx("div",{className:A(z.step,{[z["step--ios"]]:e==="ios",[z["step--passed"]]:t}),style:{left:`${a}%`}},a))})};try{F.displayName="SliderSteps",F.__docgenInfo={description:"",displayName:"SliderSteps",props:{steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}}}}}catch{}const be="_wrapper_1fkur_1",_e="_input_1fkur_21",X={wrapper:be,"wrapper--ios":"_wrapper--ios_1fkur_14",input:_e},T=v.forwardRef(({className:r,inputProps:e,...t},a)=>{const s=L();return l.jsx("span",{className:A(X.wrapper,s==="ios"&&X["wrapper--ios"],r),...t,children:l.jsx(se,{...e,Component:"input",type:"range",ref:a,className:A(X.input,r),"aria-orientation":"horizontal"})})});try{T.displayName="SliderThumb",T.__docgenInfo={description:"",displayName:"SliderThumb",props:{inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}}}}}catch{}const ge=r=>{const{"aria-label":e,"aria-valuetext":t,"aria-labelledby":a,...s}=r;return{aria:{ariaLabel:e,ariaValueText:t,ariaLabelledBy:a},...s}},G=r=>r&&["start","end"].includes(r.dataset.type||"")?r.dataset.type:null,ve=r=>{if(Math.abs(r)<1){const t=r.toExponential().split("e-"),a=t[0].split(".")[1];return(a?a.length:0)+parseInt(t[1],10)}const e=r.toString().split(".")[1];return e?e.length:0},ye=(r,e,t)=>{const a=Math.round((r-t)/e)*e+t;return Number(a.toFixed(ve(e)))},Se=(r,e,t,a)=>{if(a==null||a<=0)return _(r,e,t);const s=ye(r,a,e);return _(s,e,t)},xe=(r,e,t,a={})=>{const s=(r-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0];return Se(s,t[0],t[1],a.step)},$=(r,e,t)=>(r-e)/(t-e)*100,J=(r,e,t,a,s)=>xe(r,[0,e],[t,a],{step:s}),K=(r,e,t,a,s)=>{const[u,o]=r;if(o===null)return[_(e,t,a),null];switch(s){case"start":return e>o?[o,o]:[_(e,t,a),o];case"end":return e<u?[u,u]:[u,_(e,t,a)];case null:default:return r}},Ee=(r,e,t)=>{const[a,s]=r;switch(t){case"start":return[e,s];case"end":return[a,e];case null:default:return r}},O=r=>r[1]!==null,Q=.1,we=(r,e,t)=>{if(t==="start"||t==="end")return t;const[a,s]=r,u=s!==null?a-Q:a,o=s!==null?s+Q:0;return Math.abs(u-e)<=Math.abs(o-e)?"start":"end"},Ve=({step:r=1,min:e=0,max:t=100,value:a,multiple:s,defaultValue:u=s?[e,t]:e,disabled:o,getAriaLabel:y,getAriaValueText:V,onChange:f,onTouchEnd:g,...C})=>{const S=a!==void 0,[N,P]=v.useState(u),d=v.useMemo(()=>{const n=S?a:N;return Array.isArray(n)?[_(n[0],e,t),_(n[1],e,t)]:[_(n,e,t),null]},[S,a,N,e,t]),[m,c]=d,E=s&&c!==null,w=v.useRef({dragging:null,startX:0,containerWidth:0}).current,D=v.useRef(null),M=v.useRef(null),j=v.useRef(null),q=(n,i)=>{o||le(n[0],n[1])||(s?O(n)&&(S||P(n),f&&f(n,i)):(S||P(n[0]),f&&f(n[0],i)))},Z=n=>{if(!D.current)return;const{left:i,width:b}=D.current.getBoundingClientRect();if(!(n.originalEvent.target instanceof HTMLElement))return;const p=G(n.originalEvent.target),x=n.startX-i,I=J(x,b,e,t,r),R=we(d,I,p);w.dragging=R,w.containerWidth=b,w.startX=x;const W=K(d,I,e,t,R),[B,H]=W;M.current&&(p==="start"||B!==m&&H===c)?(M.current.focus(),n.originalEvent.preventDefault()):j.current&&(p==="end"||H!==c&&B===m)&&(j.current.focus(),n.originalEvent.preventDefault()),q(W,n),n.originalEvent.stopPropagation()},ee=n=>{const{startX:i,containerWidth:b,dragging:p}=w,{shiftX:x=0}=n,I=i+x,R=J(I,b,e,t,r);q(K(d,R,e,t,p),n),n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()},te=n=>{w.dragging=null,n.originalEvent.stopPropagation(),s?O(d)&&g&&g(d,n):g&&g(d[0],n)},re=n=>{q(Ee(d,Number(n.target.value),G(n.target)),n)},{aria:k,...ne}=ge(C),ae=n=>{const i=n?1:0;return{"data-type":n?"end":"start",step:r,min:e,value:n&&E?c:m,max:!n&&E?c:t,disabled:o,"aria-label":y?y(i):k.ariaLabel,"aria-valuetext":V?V(m,i):k.ariaValueText,"aria-labelledby":k.ariaLabelledBy,onChange:re}};return{steps:(()=>{if(r===1)return;const n=[],i=Math.floor((t-e)/r);for(let b=0;b<=i;b+=1){const p=e+b*r,x=E?p>=m&&p<=c:p<=m;n.push({isPassed:x,XCoordinate:$(p,e,t)})}return n})(),multiple:E,containerProps:ne,startValueInPercent:$(m,e,t),endReversedValueInPercent:E?$(c,e,t):0,thumbsContainerRef:D,thumbStartInputRef:M,thumbEndInputRef:j,handlePointerStart:Z,handlePointerMove:ee,handlePointerEnd:te,getInputProps:ae}},Y=({className:r,disabled:e,startAdornment:t,endAdornment:a,...s})=>{const u=L(),{steps:o,multiple:y,containerProps:V,startValueInPercent:f,endReversedValueInPercent:g,thumbsContainerRef:C,thumbStartInputRef:S,thumbEndInputRef:N,handlePointerStart:P,handlePointerMove:d,handlePointerEnd:m,getInputProps:c}=Ve(s);return l.jsxs("div",{className:A(h.wrapper,u==="ios"&&h["wrapper--ios"],e&&h["wrapper--disabled"],r),children:[U(t)&&l.jsx("div",{className:h.startAdornment,children:t}),l.jsxs(oe,{...V,className:h.slider,onStart:e?void 0:P,onMove:e?void 0:d,onEnd:e?void 0:m,children:[l.jsx("div",{className:h.track,children:o!==void 0&&l.jsx(F,{steps:o})}),l.jsx("div",{className:h.trackFilled,style:y?{left:`${f}%`,right:`${100-g}%`}:{width:`${f}%`}}),l.jsxs("div",{ref:C,className:h.thumbs,children:[l.jsx(T,{"data-type":"start",ref:S,style:{left:`${f}%`,zIndex:y&&f>=50?3:void 0},inputProps:c(!1)}),y&&l.jsx(T,{"data-type":"end",ref:N,style:{left:`${g}%`},inputProps:c(!0)})]})]}),U(a)&&l.jsx("div",{className:h.endAdornment,children:a})]})};try{Y.displayName="Slider",Y.__docgenInfo={description:`Renders a slider input for selecting a value or range from a predefined interval. Supports single or multiple thumbs for range selection.
It leverages custom hooks for logic and state management and provides customization options for appearance and functionality.`,displayName:"Slider",props:{multiple:{defaultValue:null,description:`Enables single-thumb mode.
Enables multiple-thumb mode for range selection.`,name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:`The current value of the slider.
The current value of the slider, expecting a tuple for start and end values.`,name:"value",required:!1,type:{name:"number | [number, number]"}},defaultValue:{defaultValue:null,description:`Default value of the slider.
Default value of the slider, expecting a tuple for start and end values.`,name:"defaultValue",required:!1,type:{name:"number | [number, number]"}},onChange:{defaultValue:null,description:"Callback for when the slider value changes.",name:"onChange",required:!1,type:{name:"((value: number, event: TouchEvent | ChangeEvent<Element>) => void) | ((value: [number, number], event: TouchEvent | ChangeEvent<Element>) => void)"}},onTouchEnd:{defaultValue:null,description:"Callback for when the slider finish changes.",name:"onTouchEnd",required:!1,type:{name:"((value: number, event: TouchEvent) => void) | ((value: [number, number], event: TouchEvent) => void)"}},min:{defaultValue:null,description:"Minimum allowed value. Defaults to 0.",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"Maximum allowed value. Defaults to 100.",name:"max",required:!1,type:{name:"number"}},step:{defaultValue:null,description:"Step value for each movement. Defaults to 1.",name:"step",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"Indicates whether the slider is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},startAdornment:{defaultValue:null,description:"Content to be rendered before the slider.",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"Content to be rendered after the slider.",name:"endAdornment",required:!1,type:{name:"ReactNode"}},getAriaLabel:{defaultValue:null,description:"Provides a way to generate dynamic aria-label based on the slider's thumb index.",name:"getAriaLabel",required:!1,type:{name:"((index: number) => string)"}},getAriaValueText:{defaultValue:null,description:"Provides a way to customize the aria-valuetext for more flexible text representation based on the slider's value.",name:"getAriaValueText",required:!1,type:{name:"((value: number, index: number) => string)"}}}}}catch{}export{Y as S};
